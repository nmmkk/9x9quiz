# 2026-02-16 M5 QA Report

## Build and Reference

* Baseline branch: `feature/milestone-5`
* Ticket under validation: `M5-04`
* Related implementation tickets: `M5-01` through `M5-03`

## Environment

* OS: Windows (`win32`)
* Node.js: `v24.13.1`
* npm: `11.8.0`
* Runtime validation: local Vite dev server
* Manual browser verification: user confirmed PC/iOS offline-after-first-load behavior in-session on 2026-02-17; install-flow confirmation remains pending

## Executed Scenarios

| ID | Scenario | Result | Evidence |
| --- | --- | --- | --- |
| QA-01 | Full regression tests pass | Pass | `npm run test` -> 14 files, 55 tests passed |
| QA-02 | Production build succeeds | Pass | `npm run build` succeeded (`injectManifest` precache 8 entries) |
| QA-03 | App runtime boots locally | Pass | `npm run dev -- --host 127.0.0.1 --port 4241 --strictPort` booted |
| QA-04 | Installable manifest and icon assets are emitted | Pass | `dist/manifest.webmanifest`, `dist/icons/icon-192.png`, `dist/icons/icon-512.png`, `dist/icons/icon-maskable-512.png` |
| QA-05 | Built HTML wires install metadata and service worker registration | Pass | `dist/index.html` includes manifest/icon links and `registerSW.js` injection |
| QA-06 | App-shell precache includes manifest/icons for offline-after-first-load | Pass | `dist/sw.js` contains `manifest.webmanifest` and icon entries in precache manifest |
| QA-07 | Update/install prompt logic regressions remain green | Pass | `src/shared/pwa/__tests__/updateManager.test.ts`, `src/shared/pwa/__tests__/installManager.test.ts` |
| QA-08 | Manual online -> offline transition on desktop and iOS browsers | Pass | User confirmation in-session (2026-02-17): "PCとiOSで、いったんロードした後はオフラインで動作することを確認" |
| QA-09 | Manual install flow on desktop/mobile supported browsers | Pending | Requires interactive browser + device checks (not available in CLI runtime) |

## Acceptance Criteria Coverage (M5-04)

* Completed in this run:
  * Automated validations (`test`, `build`) are green.
  * Dev runtime boot is confirmed.
  * Build artifacts include installable manifest/icon assets and SW wiring.
  * Offline/update/install code paths remain covered by automated tests.
  * QA evidence is recorded and status docs are synchronized.
* Pending external/manual:
  * Desktop/mobile install flow confirmation where supported.

## Open Issues

* No automated test/build failures.
* No known blocking code defects from automated validation.
* Manual install-flow verification is still required before final M5 closure.

## Status Recommendation

* Ticket `M5-04`: `Partial`
* Milestone `M5`: `Partial`
